<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <!-- Top menu item -->
        <menuitem name="Tiendas bed's"
                  id="menu_base_shops"
                  groups="base.group_sale_salesman"
                  sequence="20"/>

        <menuitem id="menu_shop" parent="menu_base_shops" name="Tiendas" sequence="1" />


        <menuitem id="menu_base_config" parent="menu_base_shops" name="Configuration" sequence="30" groups="base.group_system"/>


        <record id="view_res_partner_shop_filter" model="ir.ui.view">
            <field name="name">res.partner.select</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_res_partner_filter"/>
            <field name="arch" type="xml">
                <field name="category_id" position="before">
                    <separator/>
                    <filter string="Tiendas bed's" name="shops_beds" domain="[('beds_shop','=',1)]" help="Tiendas bed's"/>
                    <separator/>
                </field>

            </field>
        </record>



        <record id="action_partner_form" model="ir.actions.act_window">
            <field name="name">Tiendas bed's</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="inherit_id" ref="base.action_partner_form"/>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{"search_default_shops_beds":1}</field>
            <field name="search_view_id" ref="view_res_partner_shop_filter"/>
        </record>
        <menuitem id="menu_partner_shop_form" parent="menu_shop" action="action_partner_form" sequence="2"/>



        <record id="action_partner_shop_form" model="ir.actions.act_window">
            <field name="name">Tienda bed's</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="domain">[('beds_shop','=',1)]</field>
            <field name="context">{'default_beds_shop':1, 'default_customer':0, 'default_supplier':0 , 'default_employee':0}</field>
            <field name="filter" eval="True"/>
        </record>


        <record id="view_partner_form" model="ir.ui.view">
            <field name="name">res.partner.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <page name="sales_purchases" position="after">
                    <page name="beds_shop" string="Tienda bed's">
                        <group>
                            <group string="Tienda" colspan="1">
                                <field name="beds_shop"/>
                                <field name="beds_shop_closed"/>
                                <field name="replace_by"/>
                            </group>
                            <group string="Horarios" colspan="1">
                                <field name="monday_schedule"/>
                                <field name="weekly_schedule"/>
                                <field name="saturday_schedule"/>
                                <field name="summer_schedule"/>
                            </group>
                            <field name="partner_google_localization"/>
                            <field name="partner_brochure_id"/>
                        </group>
                    </page>
                    <page name="beds_partner_website" string="Sitio web">
                        <field name="website_description"/>
                        <field name="website_short_description"/>
                    </page>
                </page>
            </field>
        </record>

    </data>
</openerp>
